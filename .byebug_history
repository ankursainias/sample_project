c
 self.assign_drivers.find_by_status(true).driver
 self.assign_drivers.find_by_status(true)
c
self.line_item.update_attributes(:driver_accepted=>true,:driver_id=>self.driver_id,:driver_accept_time=>Time.now)
LineItem
self.line_item.update_attributes(:driver_accepted=>true,:driver_id=>self.driver_id)
self.line_item.update_attributes(:driver_accepted=>true)
c
false && true
vehicle_type_id.blank?
c
@current_api_user.orders.joins(:line_items).where("line_items.id = ?",params[:id])
@current_api_user.orders.joins(:line_items).where("line_items.id = ?",params[:id]).first
c
@line_item
c
set_current_order
c
@current_order
c
@current_api_user
c
@current_order
c
@current_order
@current_api_user
c
@current_api_user
c
@current_api_user
c
@current_order
c
@@delivery_types
c
@@delivery_types
c
@user.role
@user.create_token
@user=User.create!(signup_params_customer)
c
@current_api_user.orders.active_orders.
@current_api_user.orders.active_orders
c
line_item.count
line_item
c
line_item
c
@line_item.count
c
@line_item.count
@line_item
c
 collection @line_item
@line_item.first
@line_item.count
@line_item
c
line_item
line_items
line_item
c
line_item
c
line_item
c
line_item
c
self.map{|order| order.confirmed_line_items.count }.inject(0){|sum,x| sum + x }
self.class.map{|order| order.confirmed_line_items.count }.inject(0){|sum,x| sum + x }
map{|order| order.confirmed_line_items.count }.inject(0){|sum,x| sum + x }
self
c
self
c
collection :orders 
collection :orders , :object_root => false
orders.count
orders
c
order
order.count
order
c
order.completed?
order=orders.first
orders.first
orders
 orders.blank?
c
@current_order.line_items.last.pickup_address
c
@current_order.line_items.last.pickup_address
@current_order.line_items.last
@current_order.line_items
@current_order.pickup_address
@current_order
c
params[:pickup_address][:addressable_id]
params[:pickup_address][:addressable_id]= @line_item.id
params
q
order.completed?
order
c
self
 order_id = random_token
order_id
c
params.dig(:user, :role)
c
@user=@current_api_user.update_attributes(signup_params_customer)
render :me
@current_api_user.update_attributes(signup_params_customer)
c
@role
c
 params.dig(:user, :role)
